(this["webpackJsonpgrocery-crud-3-frontend"]=this["webpackJsonpgrocery-crud-3-frontend"]||[]).push([[102],{1204:function(e,t,a){"use strict";a.r(t);var l=a(31),n=a(3);var o={"@keyframes fadeIn":{"0%":{opacity:"0.1"},"66%":{opacity:" 0.5"},"100%":{opacity:"1"}},"columns-modal":{composes:"modal",display:e=>{let{columnsModalOpen:t}=e;return t?"block":"none"},opacity:"0","z-index":"10",animation:e=>{let{columnsModalOpen:t}=e;return t?"$fadeIn 0.15s ease 0s normal forwards 1":"none"}},"form-fields":{"overflow-x":"hidden","overflow-y":"auto",position:"relative","max-height":"calc(100vh - 240px)"}},r=a(1);const s=Object(l.b)(o);var c=e=>{let{columns:t,columnsModalOpen:a,onColumnsModalClose:l,selectColumnsAllOrNone:o,toggleVisibleColumn:c,visibleColumns:i}=e;const d=s({columnsModalOpen:a});return Object(r.jsx)("div",{className:d["columns-modal"],tabIndex:"-1",role:"dialog",children:Object(r.jsx)("div",{className:"modal-dialog modal-l",role:"document",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("h5",{className:"modal-title",children:n.a.t("columns")}),Object(r.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close",onClick:l})]}),Object(r.jsx)("div",{className:"modal-body",children:a&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"checkbox",onChange:()=>o(t),checked:i.length===t.length})}),t.map((e=>Object(r.jsx)("div",{children:Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",checked:i.includes(e.name),onChange:()=>c(e.name,t)})," ",e.displayAs]})},e.name)))]})})]})})})},i=a(9);var d={"column-text":{"&>span":{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden","& img":{display:"inline-block"}},"align-items":"center","max-width":"350px","min-width":"0","vertical-align":"middle",display:"flex",height:"38px"},"table-column":{composes:"border px-4 py-2 font-normal"},"column-action":{composes:"border px-4 py-2 font-normal flex","white-space":"nowrap","align-items":"center"},"@keyframes flash":{"0%":{opacity:"1"},"25%":{opacity:"0"},"50%":{opacity:"1"},"75%":{opacity:"0"},"100%":{opacity:"1"}},"animation-flash":{animation:"$flash 1s ease 0s normal forwards 1",position:"relative","z-index":"1"},"open-row":{cursor:"pointer",padding:"0 5px","min-width":"28px"}},b=a(2),m=a(278),u=a(239),j=a(224),p=a(45),h=a(265);const g=e=>e.configuration.locale,x=e=>e.configuration.dateFormat,O=e=>e.configuration.hasMasterDetail,f=e=>e.columnWidth,y=e=>e.masterDetail.openedRows,v=Object(l.b)(d),N=e=>{let{lastPrimaryKeyValue:t,rowData:a,hasActions:l,visibleColumns:n,settings:o,configurationSettings:{onRowUpdate:s,onRowUnmount:c,actionButtonsMultiple:d},rightSideActions:N,skin:w,theme:k,publishEvents:C,..._}=e;const S=Object(i.d)(g),V=Object(i.d)(x),T=Object(i.d)(f),M=Object(i.d)(O),D=Object(i.d)(y),F=Object(i.c)(),I=v(),{grocery_crud_extras:{primaryKeyValue:L}}=a;Object(b.useLayoutEffect)((()=>(s&&s({primaryKeyValue:L}),()=>{c&&c({primaryKeyValue:L})})),[L,a,s,c]);const P=()=>Object(r.jsx)("td",{className:I["column-action"],children:Object(r.jsx)(m.a,{..._,actionButtonsMultiple:d,backendActionButtons:a.grocery_crud_extras.actionButtons,actionButtons:o.actionButtons,primaryKeyValue:L})},"column__action"),E=M&&D.find((e=>e===L));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("tr",{className:t&&t===a.grocery_crud_extras.primaryKeyValue?I["animation-flash"]:void 0,children:[l&&!N&&n.length>0&&Object(r.jsx)(P,{}),n.map(((e,t)=>Object(r.jsx)("td",{className:I["table-column"],children:Object(r.jsxs)("div",{className:I["column-text"],style:{width:T[e.name]},children:[M&&0===t&&Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("span",{className:I["open-row"],onClick:()=>F({type:E?p.a.CLOSE_ROW:p.a.OPEN_ROW,rowId:L}),children:Object(r.jsx)(j.a,{icon:E?"caret-down":"caret-right"})})}),Object(u.a)(a[e.name],e.dataType,{dateFormat:V,fieldName:e.name,fieldOptions:e.options,locale:S,permittedValues:e.permittedValues,primaryKeyValue:L})]})},e.name))),l&&N&&n.length>0&&Object(r.jsx)(P,{})]}),E&&Object(r.jsx)("tr",{children:Object(r.jsx)("td",{colSpan:n.length+(l?1:0),children:Object(r.jsx)(h.a,{primaryKeyValue:L,skin:w,theme:k,publishEvents:C})})})]})};N.defaultProps={settings:{},configurationSettings:{}};var w=N;const k=Object(l.b)(d),C=e=>e.datagridRows,_=e=>e.configuration.rightSideActions;var S=e=>{const t=Object(i.d)(C),a=Object(i.d)(_),l=k();return Object(r.jsx)("tbody",{className:l["table-body"],children:t.map(((t,l)=>Object(r.jsx)(w,{rowData:t,rightSideActions:a,...e},l)))})};var V={checkbox:{"margin-right":"10px"}};const T=Object(l.b)(V);var M=e=>{let{onChange:t,checked:a}=e;const l=T();return Object(r.jsx)("input",{type:"checkbox",className:l.checkbox,onChange:t,checked:a})},D=a(223),F=a.n(D),I=a(285);var L={footer:{display:"flex",padding:"5px",justifyContent:"space-between",alignItems:"center"},"footer-child":{display:"flex",alignItems:"center","& > div":{paddingRight:"5px"}},pagination:{composes:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",margin:"0"},"page-number":{composes:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium",borderRadius:"0",width:"100px"}};const P=Object(l.b)(L);var E=e=>{const t=P(e),{filteredTotalEntries:a,goToFirstPage:l,goToLastPage:n,goToNextPage:o,goToPreviousPage:s,lastPage:c,page:i,pageChange:d,totalEntries:b,perPage:m,perPageChange:u,forceSearch:p,pagingOptions:h}=e;return Object(r.jsxs)("div",{className:t.footer,children:[Object(r.jsxs)("div",{className:t["footer-child"],children:[Object(r.jsx)("div",{children:"Show"}),Object(r.jsx)("div",{className:"floatL r5 l5 t3 per-page-container",children:Object(r.jsx)("select",{className:"form-control form-select",onChange:u,value:m,children:h.map((e=>Object(r.jsx)("option",{value:e,children:e},e)))})}),Object(r.jsx)("div",{children:"entries"})]}),Object(r.jsxs)("div",{className:t["footer-child"],children:[a?Object(r.jsx)("div",{children:Object(r.jsx)(I.a,{currentPage:i,totalEntries:b,perPage:m,filteredTotalEntries:a})}):null,Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:t.pagination,children:[Object(r.jsx)("button",{className:F()("relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium",{"disabled text-gray-500":1===i,"cursor-pointer hover:bg-gray-50":i>1}),onClick:()=>l(i,c),children:Object(r.jsx)(j.a,{icon:"step-backward"})}),Object(r.jsx)("button",{className:F()("relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium",{"disabled text-gray-500":1===i,"cursor-pointer hover:bg-gray-50":i>1}),onClick:()=>s(i,c),children:Object(r.jsx)(j.a,{icon:"chevron-left"})}),Object(r.jsx)("input",{type:"number",className:t["page-number"],value:i,onChange:e=>d(e,i,c),disabled:0===a,onKeyUp:e=>{"Enter"===e.key&&p()}}),Object(r.jsx)("button",{className:F()("relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium",{"disabled text-gray-500":i===c,"cursor-pointer hover:bg-gray-50":i<c}),onClick:()=>o(i,c),children:Object(r.jsx)(j.a,{icon:"chevron-right"})}),Object(r.jsx)("button",{className:F()("relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium",{"disabled text-gray-500":i===c,"cursor-pointer hover:bg-gray-50":i<c}),onClick:()=>n(i,c),children:Object(r.jsx)(j.a,{icon:"step-forward"})})]})})]})]})};var A={"search-column":{"min-width":"30px"},"table-th-with-ordering":{cursor:"pointer","&:hover":{background:"var(--gc-table-hover-background)"}},"actions-column-header":{"align-items":"center",display:"flex",height:"39px"},"with-ordering":{display:"flex","justify-content":"space-between","align-items":"center"},"input-text":{composes:"px-4 py-3 rounded border border-gray-200 w-full"},"input-select":{composes:"px-4 py-3 border border-gray-200 w-full"},"input-select-search":{minWidth:"80px"}},B=a(235);var R={"simple-button":{composes:"bg-white hover:bg-gray-50 text-gray-700 font-bold py-2 px-4 rounded border border-gray-700 shadow-sm text-gray-700 hover:bg-gray-100 focus:ring-4 focus:ring-gray-300 inline-block","margin-right":"5px"}};var K={...R,"buttons-group":{display:"flex"}};const U=Object(l.b)(K);var z=e=>{let{onClick:t,icon:a,label:l,link:n=!1,href:o}=e;const s=U();return n?Object(r.jsxs)("a",{className:s["simple-button"],onClick:t,href:o,children:[a&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(j.a,{icon:a}),"\xa0"]}),l]}):Object(r.jsxs)("button",{className:s["simple-button"],onClick:t,children:[a&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(j.a,{icon:a}),"\xa0"]}),l]})};const H=Object(l.b)(A),W=e=>{const{DatagridCheckbox:t,columnOrdering:a,columnSearch:l,columnSearchValues:o,columnSearchValuesDisplayAs:s,extendedSearchData:c,forceSearch:i,hasActions:d,onMultipleDeleteModalOpen:b,onSelectRowAllOrNone:m,options:{actionButtonHasText:p},selectRowsAllOrNoneChecked:h,selectedIds:g,sorting:x,sortingFor:O,visibleColumns:f,loadCssThirdParty:y,isMobileDevice:v}=e,N=H(e),w=0===c.length;return Object(r.jsxs)("thead",{children:[Object(r.jsxs)("tr",{children:[d&&f.length>0&&Object(r.jsx)("th",{children:n.a.t("actions")}),f.map((e=>Object(r.jsx)("th",{className:N["table-th-with-ordering"],onClick:()=>a({columnName:e.name,sorting:""===x||"desc"===x?"asc":"desc"}),children:Object(r.jsxs)("div",{className:N["with-ordering"],children:[Object(r.jsx)("span",{children:e.displayAs}),O===e.name?Object(r.jsx)(j.a,{icon:"asc"===x?"sort-amount-down-alt":"sort-amount-down"}):Object(r.jsx)(j.a,{icon:"sort"})]})},e.name)))]}),Object(r.jsxs)("tr",{children:[d&&f.length>0&&Object(r.jsx)("td",{children:Object(r.jsx)("div",{className:N["actions-column-header"],children:!v&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(t,{onChange:m,checked:h}),g.length>0&&Object(r.jsx)(z,{onClick:b,icon:"trash",label:p?n.a.t("action_delete"):""})]})})}),f.map((e=>{const t=Object(B.m)(e.dataType);return Object(r.jsx)("td",{className:N["search-column"],children:w&&Object(r.jsx)(t,{className:N[Object(u.b)(e.dataType)],placeholder:n.a.t("quick_search"),permittedValues:e.permittedValues,loadCssThirdParty:y,onChange:t=>{l({columnName:e.name,searchValue:"object"===typeof t.target.value?t.target.value.key:t.target.value,searchValueDisplayAs:"object"===typeof t.target.value?t.target.value.displayAs:""}),!0===Object(B.o)(e.dataType)&&i()},onKeyUp:e=>{"Enter"===e.key&&i()},value:o[e.name]?o[e.name]:"",displayAs:s[e.name]?s[e.name]:"",fieldName:e.name})},e.name)}))]})]})};W.defaultProps={hasActions:!1,visibleColumns:[],options:{actionButtonHasText:!0}};var q=W;var G=e=>{let{title:t}=e;return Object(r.jsx)("div",{className:"gc-datagrid-title",children:t})};var $={"datagrid-tools":{position:"relative",padding:"10px","border-left":"1px solid var(--gc-border-separator-color)","border-right":"1px solid var(--gc-border-separator-color)",display:"flex","justify-content":"space-between"},...R,"tools-container":{display:"flex"},"warning-button":{composes:"bg-white hover:bg-yellow-100 text-yellow-700 font-bold py-2 px-4 rounded border border-yellow-700 shadow-sm text-yellow-700 hover:bg-yellow-100","margin-right":"5px"}},J=a(238),Q=a(0),X=a(245);var Y={"dropdown-menu":{composes:"origin-top-right absolute right-0 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 text-gray-700 font-bold focus:outline-none",left:"auto",top:"auto",display:e=>{let{opened:t}=e;return t?"block":"none"},opacity:e=>{let{opened:t}=e;return t?"1":"0"},right:e=>{let{direction:t}=e;return t===X.a.RIGHT?"0":"auto"},"margin-top":"38px","z-index":"100"},"dropdown-menu-container":{composes:"inline-flex","margin-left":e=>{let{leftSpace:t}=e;return t?"5px":"0"}},"dropdown-menu-button":{composes:"inline-flex justify-center bg-white hover:bg-gray-50 text-gray-700 font-bold py-2 px-4 rounded border border-gray-700 shadow-sm hover:bg-gray-100","align-items":"center"}};var Z=e=>{let{buttons:t}=e;return Object(r.jsx)("ul",{className:"py-1 text-sm text-gray-700 dark:text-gray-20",children:t.map((e=>Object(r.jsx)("li",{children:Object(r.jsxs)("a",{href:e.url?e.url:"",target:e.newTab?"_blank":void 0,className:"text-gray-700 block px-4 py-2 text-sm hover:bg-gray-100",rel:"noreferrer",onClick:e.onClick?t=>{t.preventDefault(),e.onClick&&e.onClick({primaryKeyValue:e.primaryKeyValue})}:void 0,children:[e.icon&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(j.a,{icon:e.icon}),"\xa0\xa0"]}),e.text]})},e.key)))})};const ee=Object(l.b)(Y),te=e=>{let{buttons:t,buttonIcon:a,buttonLabel:l,direction:n,leftSpace:o}=e;const s=Object(b.useRef)(null),[c,i]=Object(b.useState)(!1);const d=ee({opened:c,direction:n,leftSpace:o});return 0===t.length?null:Object(r.jsxs)("div",{className:d["dropdown-menu-container"],ref:s,children:[Object(r.jsxs)("button",{className:d["dropdown-menu-button"],onClick:function(){i(!c)},onBlur:function(e){setTimeout((()=>{i(!1)}),200)},children:[a&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(j.a,{icon:a}),"\xa0"]}),l,"\xa0",Object(r.jsx)(j.a,{icon:"caret-down"})]}),Object(r.jsx)("div",{className:d["dropdown-menu"],role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabIndex:"-1",children:Object(r.jsx)("div",{className:"py-1",role:"none",children:Object(r.jsx)(Z,{buttons:t})})})]})};te.defaultProps={buttons:[],buttonIcon:"",buttonLabel:"",direction:"left",leftSpace:!1};var ae=te,le=a(24),ne=a(10),oe=a(26),re=a(251);const se=Object(l.b)($);var ce=e=>{const{apiUrl:t,columnSearchValues:a,extendedSearchData:l,hasAdd:o,onAdd:s,onClearCache:c,onClearFiltering:d,onFilteringModalOpen:b,onOrderingReset:m,onRefresh:u,sorting:p,sortingFor:h,urlUniqueHash:g,visibleColumnsAsShortString:x}=e,O=se(e),f=Object(i.c)(),y=Object(i.d)((e=>e.configuration.urlHistory)),v=Object(i.d)((e=>e.configuration.subject)),N=Object(i.d)((e=>e.configuration.landingPageUrl)),w=Object(i.d)((e=>e.configuration.hasSettings)),k=Object(i.d)((e=>e.configuration.hasPrint)),C=Object(i.d)((e=>e.configuration.hasFilters)),_=Object(i.d)((e=>e.configuration.hasColumnsButton)),S=Object(i.d)((e=>e.configuration.hasExportData)),V=Object(i.d)((e=>e.configuration.hasExportPdf)),T=Object(i.d)((e=>e.configuration.hasExportExcel)),M=Object(i.d)((e=>e.configuration.hasTopLeftButtons)),D=Object(i.d)((e=>e.configuration.hasTopRightButtons)),F=Object(i.d)((e=>e.configuration.datagridButtonsTopLeft)),I=Object(i.d)((e=>e.configuration.datagridButtonsTopRight)),L=M||D,P=g?"/".concat(g):"",E={apiUrl:t,columnSearchValues:a,sorting:p,sortingFor:h,visibleColumnsAsShortString:x,extendedSearchData:l};try{return L?Object(r.jsxs)("div",{className:O["datagrid-tools"],children:[Object(r.jsxs)("div",{children:[M&&Object(r.jsx)(r.Fragment,{children:o&&Object(r.jsx)(z,{link:!0,href:y?"".concat(N).concat(P,"/add"):"",icon:"plus",label:Object(J.c)(Q.a.ADD,v),onClick:e=>{e.preventDefault(),s()}})}),Object(r.jsx)(re.a,{Button:z,buttons:F})]}),Object(r.jsx)("div",{children:D&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(re.a,{Button:z,buttons:I}),C&&Object(r.jsxs)("button",{className:l.length>0?O["success-button"]:O["simple-button"],onClick:b,children:[Object(r.jsx)(j.a,{icon:"filter"}),"\xa0",Object(J.b)(l.length)]}),C&&(l.length>0||Object.keys(a).length>0)&&Object(r.jsxs)("button",{className:O["warning-button"],onClick:d,children:[Object(r.jsx)(j.a,{icon:"eraser"}),"\xa0",n.a.t("filtering_remove_filters")]}),_&&Object(r.jsx)(z,{onClick:()=>(e=>e({type:ne.a.MODAL_OPEN}))(f),label:n.a.t("columns"),icon:"list-alt"}),k&&Object(r.jsxs)("a",{className:O["simple-button"],href:Object(le.g)(E),rel:"noreferrer",target:"_blank",children:[Object(r.jsx)(j.a,{icon:"print"}),"\xa0",n.a.t("print")]}),S&&Object(r.jsx)(ae,{buttons:[T&&{icon:"file-excel",text:"Excel",url:Object(le.a)(E),newTab:!0,key:"excel"},V&&{icon:"file-pdf",text:"PDF",url:Object(le.f)(E),newTab:!0,key:"pdf"}],buttonLabel:n.a.t("export_to_file"),buttonIcon:"download",leftSpace:!0}),w&&Object(r.jsx)(ae,{leftSpace:!0,direction:X.a.RIGHT,buttons:[{icon:"broom",text:n.a.t("clear_cache"),onClick:c,key:"clear_cache"},{icon:"eraser",text:n.a.t("clear_filtering"),onClick:d,key:"clear_filtering"},{icon:"unlink",text:n.a.t("reset_ordering"),onClick:m,key:"reset_ordering"},{icon:"sync-alt",text:n.a.t("refresh"),onClick:u,key:"refresh"}],buttonLabel:n.a.t("settings"),buttonIcon:"cog"})]})})]}):null}catch(A){return console.log(A),Object(r.jsx)(oe.a,{})}};var ie={wrapper:{composes:"border table-auto",width:"100%"}};const de=Object(l.b)(ie);var be=e=>{const t=de(e);return Object(r.jsx)("table",{className:t.wrapper,children:e.children})};var me={"@keyframes shine":{to:{"background-position":"100% 0"}},...{"@keyframes fadeIn":{"0%":{opacity:"0.1"},"66%":{opacity:" 0.5"},"100%":{opacity:"1"}},dialog:{composes:"dialog hidden overflow-y-auto overflow-x-hidden fixed right-0 left-0 top-4 z-50 justify-center items-center h-modal md:h-full md:inset-0 "},"dialog-open":{".dialog&":{display:"block",opacity:"0",animation:"$fadeIn 0.15s ease 0s normal forwards 1"}},"dialog-closed":{".dialog&":{display:"none",opacity:"0",animation:"none"}}},"primary-button":{composes:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"secondary-button":{composes:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:ring-gray-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600"},"form-fields-container":{composes:"relative px-4 w-full h-full md:h-auto"},"form-fields":{composes:"relative bg-white shadow dark:bg-gray-700 overflow-auto",position:"relative","max-height":"calc(100vh - 240px)"},"skeleton-loader":{width:"100%",height:"15px",border:"1px solid rgb(239,239,239)","border-radius":"4px",display:"block","background-repeat":"repeat-y","background-size":"50px 500px","background-position":"0 0",background:"linear-gradient(to right, rgba(239, 239, 239, 0), rgba(239, 239, 239, 0.5) 50%, rgba(239, 239, 239, 0) 80%),rgb(255,255,255)",animation:"$shine 2s infinite","animation-delay":"0.3s"},"modal-header":{composes:"flex justify-between items-start p-4 rounded-t border-b dark:border-gray-600"},"modal-header-label":{composes:"text-xl font-semibold text-gray-900 dark:text-white"},"modal-dialog":{composes:"relative p-4 w-full max-w-2xl h-full md:h-auto"},"modal-content":{composes:"relative bg-white rounded-lg shadow dark:bg-gray-700"}};var ue={"mini-grid":{composes:"table table-bordered table-hover","margin-bottom":"0px"},"scrolling-wrapper":{width:"100%",position:"relative","overflow-x":"auto"},"column-text":{"&>span":{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"},"align-items":"center","max-width":"350px","min-width":"0","vertical-align":"middle",display:"flex",height:"38px"},"mini-grid-body":{".table &":{"border-top":"none"}}},je=a(7);const pe=Object(l.b)(ue),he=e=>e.configuration.locale,ge=e=>e.configuration.dateFormat;var xe=e=>{let{visibleColumns:t,rows:a}=e;const l=pe(),n=Object(i.d)(he),o=Object(i.d)(ge);return Object(r.jsx)("div",{className:l["scrolling-wrapper"],children:Object(r.jsxs)("table",{className:l["mini-grid"],children:[Object(r.jsx)("thead",{children:Object(r.jsx)("tr",{children:t.map((e=>e.dataType===je.a.INVISIBLE?null:Object(r.jsx)("th",{children:e.displayAs},e.name)))})}),Object(r.jsx)("tbody",{className:l["mini-grid-body"],children:a.map(((e,a)=>Object(r.jsx)("tr",{children:t.map((t=>t.dataType===je.a.INVISIBLE?null:Object(r.jsx)("td",{children:Object(r.jsx)("div",{className:l["column-text"],children:Object(u.a)(e[t.name],t.dataType,{permittedValues:t.permittedValues,fieldName:t.name,locale:n,dateFormat:o,primaryKeyValue:e.grocery_crud_extras.primaryKeyValue})})},t.name)))},a)))})]})})};var Oe=e=>{let{title:t,onClose:a}=e;return Object(r.jsxs)("div",{className:"flex justify-between items-start p-5 rounded-t-lg top border-b dark:border-gray-600 bg-white",children:[Object(r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 lg:text-2xl dark:text-white",children:t}),Object(r.jsx)("button",{onClick:a,type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"defaultModal",children:Object(r.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})};const fe=Object(l.b)(me);var ye=e=>{const{deleteMultipleModalOpen:t,deleteMultipleModalClose:a,deleteMultiple:l,selectedIds:o,visibleColumnsWithDetails:s,rows:c}=e,i=fe();return Object(r.jsx)("div",{className:F()({[i.dialog]:!0,[i["dialog-open"]]:t,[i["dialog-closed"]]:!t}),tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel",children:Object(r.jsx)("div",{className:"modal-dialog modal-xl",role:"document",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsx)(Oe,{title:n.a.t("action_delete"),onClose:a}),Object(r.jsxs)("div",{className:"modal-body",children:[Object(r.jsx)("p",{children:Object(J.a)(o.length)}),t&&Object(r.jsx)(xe,{visibleColumns:s,rows:c.filter((e=>o.includes(e.grocery_crud_extras.primaryKeyValue)))})]}),t&&Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)("button",{type:"button",className:"btn btn-default btn-outline-dark","data-dismiss":"modal",onClick:a,children:n.a.t("cancel")}),o.length>0&&Object(r.jsx)("button",{type:"button",className:"btn btn-danger delete-single-confirmation-button",onClick:l,children:n.a.t("action_delete")})]})]})})})};const ve=Object(l.b)(me);var Ne=e=>{const{deleteOneModalOpen:t,deleteOneModalClose:a,deleteOne:l,visibleColumnsWithDetails:o,primaryKeyValue:s,rows:c}=e,i=ve();return Object(r.jsx)("div",{className:F()({[i.dialog]:!0,[i["dialog-open"]]:t,[i["dialog-closed"]]:!t}),tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel",children:Object(r.jsx)("div",{className:"modal-dialog modal-xl",role:"document",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsx)(Oe,{title:n.a.t("action_delete"),onClose:a}),Object(r.jsxs)("div",{className:"modal-body",children:[Object(r.jsx)("p",{children:n.a.t("confirm_delete")}),t&&Object(r.jsx)(xe,{visibleColumns:o,rows:c.filter((e=>e.grocery_crud_extras.primaryKeyValue===s))})]}),t&&Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)("button",{type:"button",className:"btn btn-default btn-outline-dark","data-dismiss":"modal",onClick:a,children:n.a.t("cancel")}),Object(r.jsx)("button",{type:"button",className:"btn btn-danger delete-single-confirmation-button",onClick:l,children:n.a.t("action_delete")})]})]})})})};var we={"error-dialog":{composes:"modal","z-index":"1100",display:e=>{let{showError:t}=e;return t?"block":"none"}},"error-details":{width:"100%",height:"200px"}};const ke=Object(l.b)(we),Ce=e=>{let{closeModal:t,showError:a,details:l,message:o}=e;const s=ke({showError:a});return Object(r.jsx)("div",{className:s["error-dialog"],tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel",children:Object(r.jsx)("div",{className:"modal-dialog modal-xl",role:"document",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("h5",{className:"modal-title",children:n.a.t("error_generic_title")}),Object(r.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close",onClick:t})]}),Object(r.jsxs)("div",{className:"modal-body",children:[Object(r.jsxs)("div",{children:["Message: ",o]}),Object(r.jsx)("div",{children:"Error:"}),Object(r.jsx)("div",{children:Object(r.jsx)("textarea",{defaultValue:l||"",className:s["error-details"]})})]}),Object(r.jsx)("div",{className:"modal-footer",children:Object(r.jsx)("button",{type:"button",className:"btn btn-default btn-outline-dark","data-dismiss":"modal",onClick:t,children:n.a.t("close_modal")})})]})})})};Ce.defaultProps={formFields:[]};var _e=Ce;var Se={"@keyframes fadeIn":{"0%":{opacity:"0.1"},"66%":{opacity:" 0.5"},"100%":{opacity:"1"}},"filtering-modal":{composes:"modal",display:e=>{let{filteringModalOpen:t}=e;return t?"block":"none"},opacity:"0",animation:e=>{let{filteringModalOpen:t}=e;return t?"$fadeIn 0.15s ease 0s normal forwards 1":"none"}},"form-fields":{"overflow-x":"hidden","overflow-y":"auto",position:"relative","max-height":"calc(100vh - 240px)"}},Ve=a(231);var Te={"filtering-row":{composes:"row","padding-top":"10px","padding-bottom":"10px"}},Me=a(60),De=a(59),Fe=a(286);const Ie=Object(l.b)(Te);var Le=e=>{const{onFilteringModalClose:t,columns:a,onSubmit:l,extendedSearchOperator:o,extendedSearchData:s}=e,{control:c,handleSubmit:i,getValues:d}=Object(Ve.d)({defaultValues:{basic_operator:o||"AND",extended_search:s.length>0?s:[{name:a[0].name,filter:"contains",value:""}]}}),{fields:b,append:m,remove:u,insert:p}=Object(Ve.c)({control:c,name:"extended_search"}),h=Ie(e),g=b.length;return Object(r.jsxs)("form",{className:"form-horizontal",onSubmit:i((e=>{if(l){let t=[];e.extended_search.forEach((e=>{null!==e&&t.push(e)})),l(Object(Me.a)({...e,extended_search:t}))}}),((e,t)=>console.log(e,t))),children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("h5",{className:"modal-title",children:n.a.t("filtering_filter_text")}),Object(r.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close",onClick:t})]}),Object(r.jsxs)("div",{className:"modal-body",children:[Object(r.jsxs)("div",{className:"row",children:[Object(r.jsxs)("label",{className:"col-md-3 control-label",children:[n.a.t("filtering_operator")," :"]}),Object(r.jsx)("div",{className:"col-md-3",children:Object(r.jsx)(Ve.a,{render:e=>{let{field:{onChange:t,onBlur:a,value:l}}=e;return Object(r.jsxs)("select",{name:"basic_operator",onChange:t,className:"form-control form-select",defaultValue:l,children:[Object(r.jsx)("option",{value:"AND",children:n.a.t("filtering_and_statement")}),Object(r.jsx)("option",{value:"OR",children:n.a.t("filtering_or_statement")})]})},name:"basic_operator",control:c,defaultValue:"AND"})})]}),Object(r.jsx)("div",{children:b.map(((e,t)=>{const l=d("extended_search[".concat(t,"]")).name,n=a.find((e=>e.name===l));return Object(r.jsxs)("div",{className:h["filtering-row"],children:[Object(r.jsx)("div",{className:"col-md-1",children:Object(r.jsx)("button",{className:"btn btn-outline-dark btn-block",type:"button",onClick:()=>u(t),disabled:1===g,children:Object(r.jsx)(j.a,{icon:"trash"})})}),Object(r.jsx)("div",{className:"col-md-3",children:Object(r.jsx)(Ve.a,{render:e=>{let{field:{onChange:l,onBlur:n,value:o}}=e;return Object(r.jsx)("select",{onChange:e=>{const n={...d("extended_search[".concat(t,"]"))},o=e.target.value,r=a.find((e=>e.name===n.name)),s=a.find((e=>e.name===o));Object(De.a)(r.dataType,s.dataType)&&(u(t),p(t,{name:o,filter:Object(De.d)(s.dataType),value:""})),l(e)},className:"form-control form-select",name:"extended_search[".concat(t,"].name"),value:o,children:a.map((e=>e.isSearchable&&Object(r.jsx)("option",{value:e.name,children:e.displayAs},e.name)))})},name:"extended_search[".concat(t,"].name"),control:c,defaultValue:e.firstName})}),Object(r.jsx)("div",{className:"col-md-3",children:Object(r.jsx)(Ve.a,{render:e=>{let{field:{onChange:a,value:l}}=e;return Object(r.jsx)(Fe.a,{onChange:e=>{const l={...d("extended_search[".concat(t,"]"))},n=e.target.value;Object(De.b)(l.filter,n)&&(u(t),p(t,{name:l.name,filter:n,value:De.c[n]?null:""})),a(e)},className:"form-control form-select",name:"extended_search[".concat(t,"].filter"),value:l,dataType:n.dataType})},name:"extended_search[".concat(t,"].filter"),control:c,defaultValue:e.filter})}),Object(r.jsx)("div",{className:"col-md-5",children:Object(r.jsx)(Ve.a,{render:e=>{let{field:{onChange:a,onBlur:l,value:o}}=e;if(null===o)return null;const{dataType:s,permittedValues:c}=n,i=Object(B.m)(s);return Object(r.jsx)(i,{onChange:a,onBlur:l,className:h[Object(B.k)(s)],name:"extended_search[".concat(t,"].value"),value:o,required:!0,permittedValues:c})},name:"extended_search[".concat(t,"].value"),control:c,defaultValue:e.value})})]},e.id)}))}),Object(r.jsx)("div",{className:h["filtering-row"],children:Object(r.jsx)("div",{className:"col-md-12",children:Object(r.jsxs)("button",{type:"button",className:"btn btn-default btn-outline-dark",onClick:()=>{m({name:a[0].name,filter:"contains",value:""})},children:[Object(r.jsx)(j.a,{icon:"plus"}),"\xa0",n.a.t("filtering_add_more")]})})})]}),Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)("button",{type:"button",className:"btn btn-default btn-outline-dark","data-dismiss":"modal",onClick:t,children:n.a.t("filtering_cancel")}),Object(r.jsx)("button",{type:"submit",className:"btn btn-success delete-multiple-confirmation-button",children:n.a.t("filtering_filter_text")})]})]})};const Pe=Object(l.b)(Se);var Ee=e=>{const{filteringModalOpen:t,onFilteringSubmit:a,columns:l}=e,n=Pe(e);return Object(r.jsx)("div",{className:n["filtering-modal"],tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel",children:t&&Object(r.jsx)(Le,{...e,fields:l,onSubmit:a})})},Ae=a(20),Be=a(277),Re=a(14);const Ke=e=>e.form.closeModalOnSave,Ue=Object(l.b)(me),ze=e=>{let{configurationSettings:t,formFields:a,formIsReadOnly:l,formLoadingOverlay:o,formModalClose:s,formState:c,loadCssThirdParty:d,modalLoading:m,onFormSubmit:u,publishEvents:j}=e;const p=Object(i.d)(Ke),h=Object(i.d)((e=>e.configuration.openInModal)),g=Object(i.c)(),{handleSubmit:x,control:O,register:f,setValue:y}=Object(Ve.d)();Object(b.useEffect)((()=>{const e=e=>{let{detail:t}=e;y(t.fieldName,t.fieldValue)};return j&&Object(Re.d)(Re.a,e),()=>{j&&Object(Re.e)(Re.a,e)}}),[y,j]);const v=Ue();return Object(r.jsxs)("form",{className:F()({[v.form]:!0,[v["form-loading"]]:o}),onSubmit:x((e=>{const t=Object(Ae.c)(e,a);u({formState:c,data:t})}),((e,t)=>console.log(e,t))),children:[Object(r.jsx)("div",{className:F()({[v["form-fields"]]:!0,[v["form-fields-dialog"]]:h}),children:m?"Loading...":a.map((e=>Object(r.jsx)(Be.a,{control:O,field:e,inputContainerClassName:"px-4 py-3 border border-gray-200 w-full",jssClasses:v,labelClassName:"w-1/4",labelContainerClassName:"flex px-4 py-3",loadCssThirdParty:d,readOnly:l,register:f,setValue:y,configurationSettings:t,formState:c},e.fieldName)))}),Object(r.jsxs)("div",{className:"flex items-center p-6 space-x-2 border-gray-200 dark:border-gray-600 bg-white rounded-lg",children:[!l&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("label",{className:"options-on-save",children:[Object(r.jsx)("input",{type:"checkbox",checked:p,onChange:()=>g({type:Q.a.TOGGLE_CLOSE_MODAL_ON_SAVE})})," ",n.a.t("close_modal_on_save")]})," ","\xa0 \xa0"]}),Object(r.jsx)(z,{onClick:s,label:n.a.t("close_modal")}),!l&&Object(r.jsx)("button",{type:"submit",className:v["primary-button"],children:n.a.t("modal_save")})]})]})};ze.defaultProps={configurationSettings:{}};var He=ze;const We=Object(l.b)(me),qe=e=>{const{formModalLoading:t,formModalClose:a,formState:l,formModalOpen:n}=e,o=We(),s=Object(i.d)((e=>e.configuration.subject));return Object(r.jsx)("div",{className:F()(o.dialog,{[o["dialog-open"]]:n,[o["dialog-closed"]]:!n}),tabIndex:"-1",role:"dialog",children:Object(r.jsxs)("div",{className:"max-w-screen-xl mx-auto border rounded-lg m-5",role:"document",children:[Object(r.jsx)(Oe,{title:Object(J.c)(l,s),onClose:a}),n&&Object(r.jsx)("div",{className:"modal-body",children:t?Object(r.jsx)("div",{className:o["skeleton-loader"]}):Object(r.jsx)(He,{...e})})]})})};qe.defaultProps={formFields:[],openInModal:!0};var Ge=qe;const $e=Object(l.b)(me),Je=e=>{const{formModalLoading:t,formState:a,formModalOpen:l}=e,n=$e(e),o=Object(i.d)((e=>e.configuration.subject));return Object(r.jsxs)("div",{className:n["full-page"],tabIndex:"-1",children:[Object(r.jsx)("div",{className:n["full-page-title"],children:Object(J.c)(a,o)}),Object(r.jsx)("div",{children:l&&Object(r.jsx)("div",{className:"modal-body",children:t?Object(r.jsx)("div",{className:n["skeleton-loader"]}):Object(r.jsx)(He,{...e})})})]})};Je.defaultProps={formFields:[],openInModal:!0};var Qe=Je;var Xe=e=>{let{...t}=e;return Object(i.d)((e=>e.configuration.openInModal))?Object(r.jsx)(Ge,{...t}):Object(r.jsx)(Qe,{...t})};const Ye=Object(l.b)(K),Ze=e=>{const{buttons:t,maxButtons:a}=e,l=Ye(e);return Object(r.jsxs)("div",{className:l["buttons-group"],children:[t.filter(((e,t)=>t<a-1)).map((e=>Object(r.jsx)(z,{onClick:t=>{t.preventDefault(),e.onClick&&e.onClick({primaryKeyValue:e.primaryKeyValue})},link:!0,href:e.url?e.url:"",icon:e.icon,label:e.text},e.key))),Object(r.jsx)(ae,{buttons:t.filter(((e,t)=>t>=a-1)),buttonLabel:1===a?n.a.t("actions"):n.a.t("more")})]})};Ze.defaultProps={buttons:[],maxButtons:2};const et={ColumnsModal:c,DatagridBody:S,DatagridCheckbox:M,DatagridFooter:E,DatagridHeader:q,DatagridTitle:G,DatagridTools:ce,DatagridWrapper:be,DeleteMultipleModal:ye,DeleteSingleModal:Ne,ErrorDialog:_e,FilteringModal:Ee,FormDialog:Xe,GroupButtons:Ze};t.default=et},251:function(e,t,a){"use strict";var l=a(1);t.a=e=>{let{buttons:t,Button:a}=e;return Object(l.jsx)(l.Fragment,{children:t.map(((e,t)=>Object(l.jsx)(a,{label:e.label,icon:e.iconName,href:e.url,newTab:e.newTab,link:!0},t)))})}},265:function(e,t,a){"use strict";var l=a(9),n=a(2),o=a(1);const r=e=>e.masterDetail.apiUrl,s=a(89).default;t.a=e=>{let{primaryKeyValue:t,skin:a,theme:c,publishEvents:i}=e;const d=Object(l.d)(r),b=Object(n.useRef)(null);Object(n.useEffect)((()=>{b.current&&s(b.current)}),[b]);const m=Date.now();return Object(o.jsx)("div",{ref:b,className:"grocery-crud","data-api-url":d,"data-unique-id":m,"data-skin":a,"data-theme":c,"data-master-primary-key-value":t,"data-load-css-theme":"false","data-load-css-icons":"false","data-remember-state":"false","data-publish-events":i?"true":"false"})}},277:function(e,t,a){"use strict";var l=a(235),n=a(9),o=a(1);const r=e=>e.form.primaryKeyValue;var s=e=>{let{className:t,control:a,dataType:s,fieldOptions:c,id:i,isDependencyField:d,isNullable:b,loadCssThirdParty:m,name:u,permittedValues:j,readOnly:p,register:h,setValue:g,value:x,valueLabel:O,formState:f,configurationSettings:y}=e;const v=Object(n.d)(r),N=Object(l.j)({dataType:s,readOnly:p}),{onMount:w,onUnmount:k}=Object(l.l)({configurationSettings:y,dataType:s,fieldName:u,formState:f});return Object(o.jsx)(N,{className:t,control:a,fieldOptions:c,id:i,isDependencyField:d,isNullable:b,loadCssThirdParty:m,name:u,permittedValues:j,primaryKeyValue:v,register:h,setValue:g,value:x,valueLabel:O,onMount:w,onUnmount:k})},c=a(7);const i=e=>{let{control:t,field:a,inputClassName:n,inputContainerClassName:r,jssClasses:i,labelClassName:d,labelContainerClassName:b,loadCssThirdParty:m,readOnly:u,register:j,setValue:p,configurationSettings:h,formState:g}=e;const x=u||a.isReadOnly;return a.dataType!==c.a.HIDDEN?Object(o.jsxs)("div",{className:b,children:[Object(o.jsxs)("label",{className:d,htmlFor:"gc-form-".concat(a.fieldName),children:[a.isRequired&&Object(o.jsx)("span",{children:"*"}),a.displayAs]}),Object(o.jsx)("div",{className:r,children:Object(o.jsx)(s,{className:i[Object(l.k)(a.dataType,x)],control:t,dataType:a.dataType,fieldOptions:a.options||{},id:"gc-form-".concat(a.fieldName),isDependencyField:a.isDependencyField,isNullable:a.isNullable,loadCssThirdParty:m,name:a.fieldName,permittedValues:a.permittedValues,readOnly:x,register:j,setValue:p,value:a.fieldValue,valueLabel:a.valueLabel,formState:g,configurationSettings:h})})]}):Object(o.jsx)(s,{className:n,control:t,dataType:a.dataType,id:"gc-form-".concat(a.fieldName),isNullable:a.isNullable,name:a.fieldName,readOnly:x,value:a.fieldValue})};i.defaultProps={jssClasses:{}};t.a=i}}]);